<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"    content="width=device-width">
    <meta name="author"      content="M A Eyler, Istanbul, 2020" />
    <meta name="description" content="Reader for the Quran" />
    <link rel="icon" href="image/icon.png">
    <title>Kuran-Ä± Kerim </title>

  <style>
    body {
      min-height: 90vh;
    }
    #dataDiv {
      max-width: 420px;
      background: #f9f4e8;
      margin: auto;
      padding: 12px;
    }
    body, h2, h3 { margin: 12px; }
    h2 {
      margin-bottom: 16px;
      text-align: center;
      font-family: Zekr, serif;
    }
    @font-face {
      font-family: Zekr;
      src: url("/Rehber/style/ZEKRQURAN.TTF");
    }
    body, input, button { 
      font-family: Arial, Helvetica, sans-serif;
      font-size: 16px;
    }
    .long {
      width: 90%;
      max-width: 360px;
      font-size: large;
    }
    .short { width: 130px; }
    button {
      border: 3px solid gray;
      border-radius: 8px;
      cursor: pointer;
      background: lightgray;
    }
    .group button, #main {
      min-width: 90px;
    }
  @media screen and (max-width: 400px) {
    .group button {
      min-width: 72px;
      font-size: small;
    }
  }
    .yellow { background: #ff7; }
    .white { background: white; }
    .small { font-size: smaller; }
    .expert { color: red; }
    #moon, #star {
      top: 3px;
      position: relative;
      display: inline;
      font-size: 24px;
      cursor: pointer;
    }#star {
      font-size: 30px;
    }
    #info2 {
      font-family: Zekr, serif;
      font-size: large;
    }
  </style>
</head>

<body>

<h2 id=head title='innehÃ» lequr-Ã¢nun kerÃ®m &#010;fÃ® kitÃ¢bin meknÃ»n'></h2>

<div id=dataDiv>
  <div id=intro></div>
  <br>
  <input type=search id=input class=long><br>
  <p>
    <button id=question>?</button>&emsp;
    <span id=star>â˜†</span>&emsp; 
    <button id=main>Sayfa</button>&nbsp; 
    <span id=info2 class=large></span>
  </p>
<pre id=explain hidden><span id=dia1></span>
<span id=dia2></span>
<span id=dia3></span>
<span id=dia4></span>
</pre>
  <hr />
  <p class="group">
  <button id=topic onclick='location="konular.html"'></button>&ensp;
  <button id=notes onclick='location="notlar.html"'></button>&ensp;
  <button id=help onclick='window.open("guideQ.html","Kuran")'></button>&ensp;
  <span id=moon>ğŸŒ—</span> 
  </p>
  <p id=kitap class="group">
  <button id=mark onclick='location="bookmarks.html"'></button>&ensp;
  <button id=levh onclick='location="/Kitap/ders/nun-velkalem.html"'></button>&ensp;
  <button id=ders onclick='location="/Kitap/"'></button>
  </p>
  <p id=offline hidden class=expert></p>
  <hr />
  <details id=expert class=expert>
    <summary id=summ>
    </summary><p>For expert use only -- Buckwalter code<br>
    <!-- <a href="https://en.wikipedia.org/wiki/Buckwalter_transliteration" target=Kuran></a>  -->
    <!-- <input type=button id=buck value=Search>
    <label>Search using Buckwalter code</label><br> -->
    <span id=code class="white small">
A b t v j H x d * r z s $ S D T Z E g f q k l m n h w y &}p
    </span>
  <p><label>Link
    <span>(hashtag or URL) </span></label><br>
    <input type=search id=omni class=long>
  </p>
  </details>
</div>

<script src="code/languages.js"></script>
<script>//localization strings
const localization = {};

localization.tr =
`head	innerText	Kuran-Ä± Kerim
intro	innerText	Iqra yazÄ±lÄ±mÄ± ile Kuran-Ä± Kerim'i farklÄ± yollardan keÅŸfedin: Ä°stenen sayfayÄ±/ayeti gÃ¶sterin, aradÄ±ÄŸÄ±nÄ±z kelimeleri bulun, ya da ArapÃ§a kelime kÃ¶kleri ile arayÄ±n. AÅŸaÄŸÄ±da istediÄŸiniz yÃ¶ntemle baÅŸlayabilirsiniz.
dia1	innerText	  sayfa: 378 (1-604 arasÄ±)
dia2	innerText	  ayet: 27.30 (nokta/boÅŸluk)
dia3	innerText	  kÃ¶k: ktb Elm (Mucem'de ara)
dia4	innerText	  diÄŸer: (Rehber'de ara)
main	data2	Sure
main	data3	Ayet
main	data4	Mucem
main	data5	Rehber
input	placeholder	sayfa, ayet, kÃ¶k, metin
input	title	sayfa ya da sure-ayet numaralarÄ±; aranacak kÃ¶k ya da metin
star	title	En son iÅŸaretlenen sayfa
moon	title	KaranlÄ±k mod
topic	innerText	Konular
notes	innerText	Notlar
help	innerText	YardÄ±m
mark	title	Yer iÅŸaretlerini yÃ¶netin
mark	innerText	YÄ±ldÄ±zlar
levh	innerText	NÃ»n
ders	innerText	Kitap
offline	innerText	Internet kapalÄ± iken bazÄ± Ã¶zellikler Ã§alÄ±ÅŸmaz
summ	title	Buckwalter kodunu gÃ¶ster/gizle
code	title	Buckwalter kodu -- alfabetik sÄ±ra
omni	title	Linki ilk harf belirler: /Mushaf: p=â€¦ v=â€¦ /Mucem: r=â€¦ /Rehber: t=â€¦ b=â€¦/`


localization.en = 
`head	innerText	The Noble Quran
intro	innerText	Discover the Noble Quran using Iqra software: Display the desired page/verse, search some text in the Book, or find derivatives of given roots. You may start with any method shown below.
dia1	innerText	  page: 378 (within 1-604)
dia2	innerText	  verse: 27.30 (period/space)
dia3	innerText	  root: ktb Elm (in Mujam)
dia4	innerText	  other: (in Finder)
main	data2	Surah
main	data3	Verse
main	data4	Mujam
main	data5	Finder
input	placeholder	page, verse, root, or text
input	title	Page or verse number; root or text to search
star	title	Page with the latest bookmark
moon	title	Dark mode
topic	innerText	Topics
notes	innerText	Notes
help	innerText	Help
mark	title	Manage bookmarks
mark	innerText	Stars
levh	innerText	Noon Ù†
ders	innerText	Kitab
offline	innerText	Internet is required for some features
summ	title	Show/Hide Buckwalter code
code	title	Buckwalter code -- dictionary order
omni	title	First letter determines the link: /Book: p=â€¦ v=â€¦ /Mujam: r=â€¦ /Finder: t=â€¦ b=â€¦/`


localization.ar = 
`head	innerText	Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…
intro	innerText	Ø§ÙƒØªØ´Ù Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù‚Ø±Ø£: Ø§Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ØŒ Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¹Ù† Ù†Øµ ÙÙŠ Ø§Ù„ÙƒØªØ§Ø¨ ØŒ Ø£Ùˆ Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ø´ØªÙ‚Ø§Øª Ù…Ù† Ø¬Ø°ÙˆØ± Ù…Ø¹ÙŠÙ†Ø©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ø£ÙŠ Ø·Ø±ÙŠÙ‚Ø© Ù…Ø¨ÙŠÙ†Ø© Ø£Ø¯Ù†Ø§Ù‡.
dia1	innerText	  ØµÙØ­Ø©: 378 (1-604)
dia2	innerText	  Ø¢ÙŠØ©: 27.30 
dia3	innerText	  Ø§Ù„Ù…Ø¹Ø¬Ù…: ÙƒØªØ¨ Ø¹Ù„Ù…
dia4	innerText	  Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†Ù‡
main	data2	Ø³ÙˆØ±Ø©
main	data3	Ø¢ÙŠØ©
main	data4	Ø§Ù„Ù…Ø¹Ø¬Ù…
main	data5	Ø§Ù„Ø¨Ø§Ø­Ø«
input	placeholder	378 Ø£Ùˆ 27.30
input	title	Ø±Ù‚Ù… Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø³ÙˆØ±Ø© ÙˆØ§Ù„Ø¬Ø²Ø¡
star	title	ØµÙØ­Ø© Ø¢Ø®Ø± Ø¹Ù„Ø§Ù…Ø© 
moon	title	Dark mode
topic	innerText	Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹
notes	innerText	Ù…Ù„Ø§Ø­Ø¸Ø§Øª
help	innerText	Ù…Ø³Ø§Ø¹Ø¯Ø©
mark	title	Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª
mark	innerText	Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª
levh	innerText	Ù† ÙˆØ§Ù„Ù‚Ù„Ù…
ders	innerText	Ø§Ù„Ø¯Ø±ÙˆØ³
offline	innerText	Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù…Ø·Ù„ÙˆØ¨ Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙŠØ²Ø§Øª
summ	title	Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø±Ù…Ø² Buckwalter
code	title	Buckwalter code -- ØªØ±ØªÙŠØ¨ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³
omni	title	Ø£ÙˆÙ„ Ø­Ø±Ù ÙŠØ´Ø±Ø­ Ø§Ù„Ø±Ø§Ø¨Ø·: /Book: p=â€¦ v=â€¦ /Mujam: r=â€¦ /Finder: t=â€¦ b=â€¦/`
</script>
<script src="code/common.js"></script>
<script src="code/buckwalter.js"></script>
<script src="code/search.js"></script>
<script src="code/utilities.js"></script>
<script src="code/model.js"></script>
<script>
const langMgr = new LangManager( //callback on applyLanguage()
   () => {
      LangManager.adjustDirection(dataDiv)
      sName = suraNames[currentLanguage()]
   })
const Q = parent.iqra && parent.iqra.Q ? 
  parent.iqra.Q : {roots: new MujamData('data/words.txt')}
function init(storage = {}) {
  function hideButtons(b) {
    kitap.hidden = b; offline.hidden = !b
    console.log(b ? 'offline' : 'online')
  }
    onoffline = () => hideButtons(true)
    ononline  = () => hideButtons(false)
    hideButtons(!navigator.onLine)
    console.log(storage)
    main.onclick = doOmni
    document.onkeydown = enterKey
    input.onkeyup = inputKey
    let p = storage.page
    input.value = p || '1'
    inputKey(); setFocus(input)
    let m = storage.marks
    if (m && m.length) {
      let h = m.pop()
      star.onclick = () => doOpen('p='+h)
    } else {
      star.style.visibility = "hidden"
      mark.style.visibility = "hidden"
    }
    let displayDarkMode = (d) => {
      if (d == undefined) 
        d = getStorage("settings", "dark-mode")
      let s = document.body.style
      s.color = d? "wheat" : ""
      s.background = d? "#333" : ""
      dataDiv.style.background = d? "black" : ""
    }
    let toggleDarkMode = () => {
      let d = !getStorage("settings", "dark-mode")
      setStorage("settings", "dark-mode", d)
      if (parent.iqra) parent.iqra.toggleDarkMode()
      displayDarkMode(d)
    }
    moon.onclick = toggleDarkMode
    displayDarkMode()
}
window.name = "finder"
document.title = head.innerText
init(getStorage('iqra'))
</script>

</body>
</html>
